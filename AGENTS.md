# 저장소 가이드라인

## 프로젝트 구조 및 모듈 구성
에이전트가 쉽게 발견될 수 있도록 예측 가능한 레이아웃을 유지하세요. 에이전트 구현은 `agents/<agent_name>/`에, 공유 유틸리티는 `core/`에, 재사용 가능한 워크플로우는 `pipelines/`에, 통합 자산(프롬프트, 설정, 픽스처)은 `resources/`에 배치하세요. 테스트는 `tests/agents/`, `tests/core/` 등에서 대상을 미러링하고, 확장 문서는 `docs/`에 속합니다. 저장소 루트에 파일을 떨어뜨리지 말고 PR 내에서 누락된 폴더를 생성하세요.

## 빌드, 테스트 및 개발 명령어
의존성은 `python -m pip install -r requirements.txt`로 설치하고, 선택적 도구는 `python -m pip install -r requirements-dev.txt`로 설치하세요. 포맷터와 정적 분석을 실행하려면 `make lint`를, 전체 검사를 위해 `make test`(pytest 래퍼)를, 에이전트를 로컬에서 실행하려면 `make serve agent=<name>`을 사용하세요. 리뷰에서 포맷터 노이즈를 피하기 위해 푸시하기 전에 `make format`을 실행하세요.

## 코딩 스타일 및 명명 규칙
Python 모듈은 4칸 들여쓰기, `black` 포맷팅, `ruff` 린트 규칙을 사용합니다(pyproject.toml을 통해 구성). 에이전트는 lower_snake_case 디렉토리로, 클래스는 PascalCase로, 비동기 진입점은 `_async` 접미사로 명명하세요. 프롬프트나 설정 파일은 `resources/<area>/<name>.yaml`에 위치하고 모듈 이름과 일치해야 합니다. 에이전트 기능이 감사 가능하도록 명시적 가져오기를 선호하세요.

## 테스트 가이드라인
`pytest`로 테스트를 작성하고, 파일은 `test_<module>.py`로, 테스트 함수는 `test_<behavior>`로 명명하세요. 대화나 도구 응답을 재생할 때는 `tests/fixtures/` 아래에 픽스처를 포함하세요. 새 모듈의 경우 85% 이상의 커버리지를 유지하고 버그를 수정할 때마다 회귀 테스트를 추가하세요. 반복하는 동안 타겟된 `pytest` 선택을 실행한 다음 PR을 열기 전에 `make test`를 실행하세요. PR 설명에 수동 검증 단계를 기록하세요.

## 커밋 및 풀 리퀘스트 가이드라인
자동화된 변경 로그 생성을 위해 Conventional Commits(`feat: add planner agent`, `fix: guard tool errors`)를 따르세요. PR을 열기 전에 `git rebase -i`로 WIP 커밋을 스쿼시하세요. 각 PR에는 간결한 요약, 연결된 이슈나 작업 ID, 테스트 증거, 동작 변경 시 스크린샷이나 트랜스크립트가 포함되어야 합니다. CI가 녹색이 되면 리뷰를 요청하고 열린 이슈를 참조할 때만 TODO를 남기세요.

## 보안 및 설정 팁
API 키나 환경 비밀을 절대 커밋하지 마세요—`.env.local`에 저장하고 `settings.example.toml` 템플릿을 통해 참조하세요. 공유하기 전에 대화 로그를 정리하세요. 새 도구를 추가할 때는 `docs/security.md`에 필요한 범위를 문서화하고 리뷰어가 위험을 평가할 수 있도록 외부 네트워크 호출을 플래그하세요.

## 에이전트 목록

### memory_card_game
- 위치: `agents/memory_card_game/`
- 개요: 4x4 그리드로 이루어진 이모지 기억력 카드 게임
- 핵심 요구사항:
  - 총 16장의 카드(8쌍), 초기에는 모두 뒷면 노출
  - 카드 클릭 시 CSS 플립 애니메이션으로 앞면 공개
  - 동일한 이모지 두 장을 찾으면 공개 상태 유지, 그렇지 않으면 1초 후 자동으로 뒤집힘
  - 화면 상단에 시도 횟수를 표시하고 모든 쌍을 맞추면 축하 메시지 노출
- 구현 스택: HTML, CSS, JavaScript
- 비고: UI/상태 관리를 분리해 유지보수성과 테스트 용이성을 확보

# 환각 방지 규칙

1. **확실하지 않은 정보는 명시하기**
   - "이것은 추측입니다" 또는 "문서를 확인해야 합니다"라고 표시
   
2. **존재하지 않는 함수나 라이브러리 사용 금지**
   - 사용 전 반드시 공식 문서 확인
   - 불확실하면 물어보기

3. **코드 수정 시 전체 맥락 고려**
   - 한 파일만 보지 말고 연관 파일도 확인
   - 기존 코드 패턴 유지

4. **최신 버전 확인**
   - 라이브러리 버전 명시
   - deprecated 된 기능 사용 금지

5. **에러 메시지를 정확히 읽기**
   - 추측으로 해결하지 말 것
   - 에러 원인 파악 후 수정

6. **테스트 가능한 코드 작성**
   - 실행해서 확인할 수 있는 코드만 제안
   - 플레이스홀더 코드 지양

7. **파일 경로 정확히 확인**
   - 존재하지 않는 경로 사용 금지
   - 상대 경로 vs 절대 경로 구분

8. **API 키나 민감 정보 하드코딩 금지**
   - 환경 변수 사용
   - .env 파일 권장

9. **브라우저/환경 제약 고려**
   - Node.js vs 브라우저 API 구분
   - 지원 여부 확인

10. **설명과 코드 일치**
    - 주석과 실제 동작 동일하게
    - 거짓 설명 금지
